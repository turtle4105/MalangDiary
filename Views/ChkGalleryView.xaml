<Page x:Class="MalangDiary.Views.ChkGalleryView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="#FFFEFD"
      Width="400"
      Height="800">

    <Grid Width="400" Height="800">
        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <!-- 상단 바 -->
            <RowDefinition Height="40"/>
            <!-- 탭 버튼 -->
            <RowDefinition Height="*"/>
            <!-- 사진 목록 -->
        </Grid.RowDefinitions>

        <!-- 뒤로가기 버튼 -->
        <DockPanel Grid.Row="0" Background="#FFACAC">
            <Button Content="&lt;" Width="40"
                    Command="{Binding GoBackCommand}"
                    Background="Transparent" BorderThickness="0"
                    FontSize="16" Foreground="White"
                    DockPanel.Dock="Left" HorizontalAlignment="Left"/>
        </DockPanel>

        <!-- 탭 버튼 -->
        <StackPanel Orientation="Horizontal" Grid.Row="1" Background="#FFF9D9DC">
            <Button Content="달력" Width="200"
                    Command="{Binding GoToChkCldCommand}"
                    Height="40"
                    Background="Transparent" BorderThickness="0"
                    Foreground="Gray"/>
            <Button Content="사진" 
                    Width="200" Height="40"
                    Background="#FFF9D9DC" BorderThickness="0"
                    FontWeight="Bold"/>
        </StackPanel>

        <!-- 사진 목록 -->
        <ScrollViewer Grid.Row="2"
              VerticalScrollBarVisibility="Hidden"
              HorizontalScrollBarVisibility="Disabled"
              PanningMode="VerticalOnly"
              CanContentScroll="True">
            <ItemsControl ItemsSource="{Binding PhotoList}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel Orientation="Horizontal" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Button Width="133" Height="133"
                        Margin="0"
                        Command="{Binding DataContext.PhotoClickCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                        CommandParameter="{Binding}"
                        BorderBrush="LightGray" BorderThickness="1" Background="White">
                            <Grid>
                                <Border Background="White" CornerRadius="4"/>
                                <Image Source="{Binding ImagePath}" Stretch="UniformToFill" Margin="4"/>
                            </Grid>
                        </Button>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</Page>
